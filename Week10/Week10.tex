\documentclass[a4paper]{article}

\input{preamble.tex}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage[english]{babel}
\usepackage{amsmath, amssymb}
\newtheorem{thm}{Theorem}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{exmp}[thm]{Example}
\newtheorem{defn}[thm]{Definition}
\newtheorem{que}[thm]{Question}
\newtheorem{clm}[thm]{Claim}
\pdfsuppresswarningpagegroup=1

\begin{document}
\textbf{Idea 1}
Let $x = (x_1, x_2, ..., x_n)$ be in the domain of $W$.
Write $\textbf{x}^v$ for $x_1^{v_1} x_2^{v_2} .. x_n^{v_n}$. Then, if a matrix $M$ fixes $\textbf{x}$, then we have $\textbf{x}^v = \textbf{x}^{Mv}$ for any vector $v$.
Consider a term 
$$f(\textbf{x}) = \sum_{i=0}^{k-1} \textbf{x}^{M^i v}$$
where $M^k v =v$.
Then we have(assuming $M$ fixes $x$):
$$(\nabla f)_j = \sum_{i=0}^{k-1} (M^i v)_j \textbf{x}^{M^i v} = \sum_{i=0}^{k-1} (M^i v)_j \textbf{x}^{v} = (\sum_{i=0}^{k-1} M^i) \textbf{x}^{v} v_j$$
So $$\nabla f = (\sum_{i=0}^{k-1} M^i) \textbf{x}^{v} v$$.
$$(M-I)\nabla f= (M^k-I)v \textbf{x}^{v}= 0$$
Now $\Gamma$ fixes $W$, so we can partition $W$ into linear combination of terms like $f$, so:
$$(M-I)\nabla W = 0$$
For any $M$ in $\Gamma$.
Hence $\nabla W \in \cap_{M \in \Gamma} \ker(M - I)$

This shows that 
\begin{enumerate}
	\item If there is an element of $\Gamma$ with no eigenvalue $1$ then critical points of $W$ are precisely points fixed by it(additionaly it can be proven that in this case they are roots of unity of order divisible by $\det(M-I)$.(TODO: PROOF)
	\item As a consequence, all matrices in $\Gamma$ with no eigenvalue $1$ have to fix exactly the same points, and all other matrices also have to fix them.
	\item If all matrices in $M$ in $\Gamma$ have an eigenvalue $1$ but intersection of $ker(M-I)$ is empty, then $W$ has a critical point $(1, \dots,1)$ but also all other points fixed by all elements of $\Gamma$.
\end{enumerate}

Also this generalizes the idea with $-id$ in dimension 2. 

In fact, even if the kernels coincide, then except for some very rare cases $W$ has at least one critical point. (TODO)



\textbf{Idea 2}
In dimension $2$:
\begin{enumerate}
	\item If $\Gamma_+ = C_2$, then fixed points are precisely $(1,1), (1,-1), (-1,1), (-1, -1)$. Additionally it can be proven that the quadratic form associated with $(1,1)$ is non-degenerate (using Cauchy Schwartz inequality on elements of a matrix one can prove that $\det Q > 0$).
	\item If $\Gamma = C_3$ or $\Gamma = S_3$, then $(1,1)$ is a critical point, critical points are exactly those fixed by an element of order $3$ (because $\det(M-I) = 3$), and they are third roots of unity.
	\item The above condition might imply that we can always find a transposition in case $C_3 < \Gamma$. We would then have that $C_3$ is not a possible $\Gamma$. TODO
	\item If $\Gamma = \mathbb{Z}$ or $\Gamma = D_\infty$ then:
	$W(x, y) = P(x^a y^b)$ and $P$ is a polynomial such that the only non-zero roots are roots of unity, and the non-zero roots are distinct(otherwise we would have critical points with zero quadratic form). Then all the critical points have a degenerate quadratic form with exactly one non-zero eigenvalue.
	If we knew that $P$ is a monic polynomial, then $P$ is a Kronecker polynomial(monic polynomial with roots being roots of unity) and there is a classification of them. Additionally imposing the condition that roots are distinct could give something more.
\end{enumerate}
\textbf{Idea 3}
In dimension 3:
If $W$ has a critical point with non-degenerate quadratic form, then we have to have $M^T Q M = Q$ for every $M \in \Gamma$, so $M$ is isomorphic to a subgroup of orthogonal group, which along with some other conditions(TODO) shows that $\Gamma$ can be only one of $id, C_2, C_3, C_4, C_6, C_2 \times C_2, S_3, A_4, S_4, C_2 \times C_2 \times C_2, D_8$. In fact
\begin{enumerate}
	\item $id$ occurs for $W = 0$
	\item $C_2 \times C_2$ occurs for $CP^3$ with a 2d face blown up.
	\item $S_3$ occurs for $CP^3$ with a vertex blown up(PROOF TODO)
	\item $C_2 \times C_2 \times C_2$ occurs for cube.
	\item $S_4$ occurs for $CP^3$
	\item $D_8$ occurs for a square-based pyramid (PROOF TODO)
	\item We don't know yet for $C_2, C_3, C_4, C_6, A_4$, but as all except for $C_6$ are subgroups of some obtainable groups, it shouldn't be easy to exclude them.
\end{enumerate}
\textbf{$CP^3$ with vertex blown up}\\
The corresponding $W$ is $x+y+z+\frac{1}{xyz}+\frac{1}{x}$. Without the last term the matrices preserving $W$ would be all possible permutations of the $(1,0,0),(0,1,0),(0,0,1),(-1,-1,-1)$ vectors giving $S_4$. However now the set of vectors that need to be fixed also contains $(-1,0,0)$. If $(1,0,0)\mapsto v$, then $(-1,0,0)\mapsto -v$ so the only possibility is fixing $(1,0,0)$ entirely. Hence we are left with the permutations of the remaining 3 vectos i.e. $S_3$. According to Mathematica all critical points of $W$ are non-degenerate so we know that all automorphisms can be realized by conjugation because $Q$ is non-degenerate.
\\
 \textbf{Square-based pyramid}\\
 Take a pyramid with base sides parallel to $x,y$ axes. Then $W=z+\frac{x}{z}+\frac{y}{z}+\frac{1}{xz}+\frac{1}{yz}$. $D_8$ generated by a rotation  $\begin{pmatrix} 0 & -1 &0\\ 1 & 0 & 0\\ 0& 0 &1 \end{pmatrix} $ and reflection $\begin{pmatrix} 1 & 0 & 0 \\ 0 & 1 & 0\\ 0 & 0 &-1 \end{pmatrix} $ clearly fix $W$. The critical points of $W$ are $\left( -1,-1,2i \right) ,\left( -1,-1,2i \right), \left( 1,1,-2 \right),\left( 1,1,2 \right) $ 
 It's an easy check that these are fixed by our $D_8$.\\
 Surprisingly taking a pyramid where the base vertices lie on the  $x,y$ axes gives a lot of critical points not fixed by $D_8$, possibly because it's not possible to make it monotone, but we haven't checked.
 \\
\textbf{$CP^{n} $ with a $k$-dimensionl face blown up}
\\WLOG $W=\sum x_{i}+\frac{1}{\prod ^n x_{i}}+\frac{1}{\prod ^k x_{i}}$
Consider the corresponding critical points. For $j\le k$ we have $\frac{\partial W}{\partial x_{i}} =1-\frac{1}{\prod^n x_{i} \cdot  x_{j}} - \frac{1}{\prod^k x_{i} \cdot x_{j}}$. For greater $j$ it's the same thing but without last term. Since for fixed values of these products of $x_{i}$ there exist unique solutions to $\partial_j W=0$ it must be the case that at critical points for $i\le k$ all $x_{i}$ are equal and the same holds for $i>k$. It is also clear that these values are distinct (because if the gradient is 0 at coordinates $>k$ then if for smaller coordinates we had the same value of  $x_{i}$ we would require $\frac{1}{x^{k+1}}=0$ which is nonsense. Therefore no element of $\Gamma $ permutes the basis vector in a way which maps $x_{i\le k}$ to $x_{j>k}$. None of the $x_{i\le k}$ can be mapped to $\frac{1}{\prod^n x_{i}}$ either because that would also not preserve the critical points. 
We also have to consider the legality of mapping $x_{i\le k}$ to $\frac{1}{\prod^k x_{i}}$ In this case it would imply $x_{i\le k}^{k+1}=1$ at the critical points. Then the last term in the $\le k$ coordinates of the gradient would have to be 0 which is impossible for the same reason as earlier. Thus this also can't happen.
However, permuting the $x_{i\le k}$ among themselves is definitely possible. We can also permute $x_{i>k}$ and $\frac{1}{\prod^{n}x_{i}}$ among themselves. Indeed it is possible combinatorially i.e. preserves the set of basis vectors. It remains to verify that it also preserves fixed points. 
That is we want to have $x_{i>k}=\frac{1}{\prod^{n}x_{i}}$ at the critical points. This is precisely the condition for the $>k$ coordinates of the gradient to be zero, so such permutations are also legal.\\
In conclusion this (without accounting for the Clifford algebras, which is not necessary at least if the critical points are non-degenerate) gives us $S_{k}\times S_{n-k+1}$ of which the $S_3$ result is a special case.


So if every element in $\Gamma$ has finite order, then either it is one of the above, or $\Gamma$ has no critical point with non-degenerate critical form.

Now suppose every critical point in $\Gamma$ has degenerate quadratic form.


\textbf{Case 1} There is a point with zero quadratic form.
Conjugation is trivial, so $\Gamma$ is trivial.

\textbf{Case 2} There is a point with only one non-zero eigenvalue.
The Clifford algebra is isomorphic to the one with $Q= \begin{pmatrix}
	1 & 0 &0 \\ 
	0 & 0 &0\\
	0 & 0 &0\\
\end{pmatrix}$.
Then inverse of $1+c e1e2+d e2e3+ e e1e3$ is $1-c e1e2-d e2e3- e e1e3$ and so conjugating by elements of even grading we can get automorphisms of the form(calculated with Mathematica):
$ \begin{pmatrix}
1 & 0 &0 \\ 
a & 1 & 0\\
b & 0 &  1\\
\end{pmatrix}$
Also, elements with zero scalar part aren't invertible so there is nothing to do.

Then inverse of $ce1+de2+ e e3+ e1e2e3$ is $1/c^2(ce1+de2+ e e3- e1e2e3)$ and so conjugating by elements of odd grading we can get automorphisms of the form(calculated with Mathematica):
$ \begin{pmatrix}
-1 & 0 &0 \\ 
a & 1 & 0\\
b & 0 &  1\\
\end{pmatrix}$
Elements with zero $e1e2e3$ are invertible, but they give the same kind of automorphisms.

That means that element of det $1$ give a subgroup of $\mathbb{Z} \times \mathbb{Z}$, and any element of determinant $-1$ is of order 2.
Hence $\Gamma$ can be isomorphic to either $\mathbb{Z} \times \mathbb{Z}$ or semidirect products: $\mathbb{Z} \times D_\infty$ or $D_\infty \times D_\infty$ or $C_2$.

\textbf{Case 3}. There is a point with two non-zero eigenvalues
Then inverse of $1+c e1e2+d e2e3+ e e1e3$ is $1/(1+c^2)(1-c e1e2-d e2e3- e e1e3)$ and so conjugating by elements of even grading we can get automorphisms of the form(calculated with Mathematica):
$\begin{pmatrix}
\frac{1-c^2}{1+c^2} & \frac{2c}{1+c^2} &0 \\ 
\frac{-2c}{1+c^2} & \frac{1-c^2}{1+c^2} & 0\\
\frac{2cd-2e}{1+c^2} & \frac{-2cd-2e}{1+c^2} &  1\\
\end{pmatrix}$
We can use a substitution(we can take $c=\infty$ to account for the fact that we set the scalar part to $1$) to get that the matrices are of the form:
$\begin{pmatrix}
\cos(\phi) & \sin(\phi) &0 \\ 
-\sin(\phi) & \cos(\phi) & 0\\
a & b &  1\\
\end{pmatrix}$

Inverse of $c e1+d e2+ e e3+ e1e2e3$ is $1/(c^2+d^2) (c e1 + d e2 + e e3 -1)$ and so conjugating by elements of odd grading we can get automorphisms of the form(calculated with Mathematica):
$\begin{pmatrix}
\frac{d^2-c^2}{c^2+d^2} & \frac{-2 d c}{c^2+d^2} &0 \\ 
\frac{-2 d c}{c^2+d^2} & \frac{d^2-c^2}{c^2+d^2} & 0\\
\frac{2d-2ce}{c^2+d^2} & \frac{-2c-2de}{c^2+d^2} &  1\\
\end{pmatrix}$
We can use a substitution to get that the matrices are of the form:
$\begin{pmatrix}
-\cos(\phi) & \sin(\phi) &0 \\ 
\sin(\phi) & -\cos(\phi) & 0\\
a & b &  1\\
\end{pmatrix}$
Then $\Gamma$ is isomorphic to $Z \times Z$ or $Z \times D_\infty$ or $D_\infty \times D_\infty$ or $C_2, C_3, C_4, C_6, D_4, S_3,D_8$.(PROOF TODO).
\end{document}
